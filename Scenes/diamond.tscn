[gd_scene load_steps=18 format=3 uid="uid://ds02uh04juiit"]

[ext_resource type="PackedScene" uid="uid://4oel7mi6o30" path="res://Assets/Objects/diamod.glb" id="1_v424a"]
[ext_resource type="Script" path="res://Scripts/Jewel.cs" id="2_bwnth"]
[ext_resource type="PackedScene" uid="uid://m6dmreauilwp" path="res://Assets/VFX/aura.tscn" id="3_tvdd4"]
[ext_resource type="PackedScene" uid="uid://bepb5ny6nvoij" path="res://Assets/VFX/stars.tscn" id="4_1clpe"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_p22yf"]
points = PackedVector3Array(-0.000195742, 0.266686, -1, -0.193226, 0.297969, -0.971026, -0.000195742, 0.337465, -0.96946, 0.193031, 0.297969, -0.971026, 0.382537, 0.266686, -0.924041, -0.000195742, -0.616967, -0.000195742, -0.382733, 0.266686, -0.924041, -0.371182, 0.337465, -0.895654, -0.000195742, 0.616838, -0.574785, 0.12314, 0.570215, -0.619812, 0.280345, 0.510669, -0.677369, 0.370791, 0.337465, -0.895654, -0.280736, 0.510669, -0.677369, 0.549726, 0.297969, -0.823218, 0.70693, 0.266686, -0.707126, -0.382733, 0.266686, 0.923845, -0.707126, 0.266686, 0.70693, -0.924041, 0.266686, 0.382537, -1, 0.266686, -0.000195742, -0.924041, 0.266686, -0.382733, -0.707126, 0.266686, -0.707126, 0.923845, 0.266686, -0.382733, 1, 0.266686, -0.000195742, 0.923845, 0.266686, 0.382537, 0.70693, 0.266686, 0.70693, 0.382537, 0.266686, 0.923845, -0.000195742, 0.266686, 1, -0.550117, 0.297969, -0.823218, -0.685591, 0.337465, -0.685591, -0.220047, 0.616838, -0.530932, 0.219851, 0.616838, -0.530932, 0.351018, 0.570215, -0.52545, 0.685395, 0.337465, -0.685591, -0.351214, 0.570215, -0.52545, 0.823023, 0.297969, -0.550117, -0.550117, 0.297969, 0.823023, -0.193226, 0.297969, 0.970634, -0.370987, 0.337465, 0.895458, -0.685591, 0.337465, 0.685395, -0.823218, 0.297969, 0.549726, -0.895654, 0.337465, 0.370791, -0.971026, 0.297969, 0.193031, -0.971026, 0.297969, -0.193226, -0.96946, 0.337465, -0.000195742, -0.895654, 0.337465, -0.370987, -0.823218, 0.297969, -0.550117, 0.895458, 0.337465, -0.371182, 0.970634, 0.297969, -0.193226, 0.969264, 0.337465, -0.000195742, 0.970634, 0.297969, 0.193031, 0.895458, 0.337465, 0.370791, 0.823023, 0.297969, 0.549726, 0.685395, 0.337465, 0.685395, 0.549726, 0.297969, 0.823023, 0.370791, 0.337465, 0.895458, 0.193031, 0.297969, 0.970634, -0.000195742, 0.337465, 0.969264, -0.677369, 0.510669, -0.280736, -0.52545, 0.570215, -0.351214, -0.406421, 0.616838, -0.406421, 0.406226, 0.616838, -0.406421, 0.525254, 0.570215, -0.351214, 0.677173, 0.510669, -0.280736, -0.280736, 0.510669, 0.677173, -0.406421, 0.616838, 0.406226, -0.52545, 0.570215, 0.351018, -0.677369, 0.510669, 0.280345, -0.351214, 0.570215, 0.525254, -0.619812, 0.570215, 0.12314, -0.574785, 0.616838, -0.000195742, 0.574589, 0.616838, -0.000195742, 0.619616, 0.570215, 0.12314, 0.677173, 0.510669, 0.280345, 0.525254, 0.570215, 0.351018, 0.406226, 0.616838, 0.406226, 0.351018, 0.570215, 0.525254, 0.280345, 0.510669, 0.677173, 0.12314, 0.570215, 0.619616, -0.000195742, 0.616838, 0.574589, -0.530932, 0.616838, -0.220047, 0.530736, 0.616838, -0.220047, -0.220047, 0.616838, 0.530736, -0.530932, 0.616838, 0.219851, 0.530736, 0.616838, 0.219851, 0.219851, 0.616838, 0.530736)

[sub_resource type="Animation" id="Animation_2jex5"]
resource_name = "merge"
tracks/0/type = "scale_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Diamond")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 1, 1, 1, 0.5, 1, 1.2, 1.2, 1.2, 1, 1, 1, 1, 1)
tracks/1/type = "scale_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 1, 1, 1, 0.5, 1, 1.2, 1.2, 1.2, 1, 1, 1, 1, 1)

[sub_resource type="Animation" id="Animation_cd3pa"]
resource_name = "rotateY"
length = 5.0
loop_mode = 1
tracks/0/type = "rotation_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Diamond")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, -0.715122, 0, 0.698999, 2.5, 1, 0, 1, 0, 0, 4.9, 1, 0, 0, 0, -1)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 2.5, 1, 0, 1, 0, 0, 4.9, 1, 0, 0, 0, -1)

[sub_resource type="Animation" id="Animation_yercp"]
resource_name = "rotateZ"
length = 3.0
loop_mode = 1
tracks/0/type = "rotation_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Diamond")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 1.5, 1, 0, 0, 1, 0, 3, 1, 0, 0, 0, -1)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 1.5, 1, 0, 0, 1, 0, 3, 1, 0, 0, 0, -1)

[sub_resource type="Animation" id="Animation_svd4p"]
resource_name = "spawn"
tracks/0/type = "scale_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Diamond")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0.2, 0.2, 0.2, 0.5, 1, 1.2, 1.2, 1.2, 1, 1, 1, 1, 1)
tracks/1/type = "scale_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0.2, 0.2, 0.2, 0.5, 1, 1.2, 1.2, 1.2, 1, 1, 1, 1, 1)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_llu3u"]
_data = {
"merge": SubResource("Animation_2jex5"),
"rotateY": SubResource("Animation_cd3pa"),
"rotateZ": SubResource("Animation_yercp"),
"spawn": SubResource("Animation_svd4p")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_of2xm"]
animation = &"rotateZ"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lis6a"]
animation = &"merge"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mujuq"]
animation = &"rotateY"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p4axv"]
animation = &"spawn"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_feahq"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xnjcd"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_w3m82"]
states/activate/node = SubResource("AnimationNodeAnimation_of2xm")
states/activate/position = Vector2(787, 101)
states/merge/node = SubResource("AnimationNodeAnimation_lis6a")
states/merge/position = Vector2(776.715, 194)
states/rotateY/node = SubResource("AnimationNodeAnimation_mujuq")
states/rotateY/position = Vector2(485, 99)
states/spawn/node = SubResource("AnimationNodeAnimation_p4axv")
states/spawn/position = Vector2(342, 97)
transitions = ["Start", "spawn", SubResource("AnimationNodeStateMachineTransition_feahq"), "spawn", "rotateY", SubResource("AnimationNodeStateMachineTransition_xnjcd")]
graph_offset = Vector2(110.715, 0)

[node name="Root" instance=ExtResource("1_v424a")]
freeze_mode = 1
script = ExtResource("2_bwnth")

[node name="Diamond" parent="." index="0"]
transform = Transform3D(-0.946116, 0, -0.323829, 0, 1, 0, 0.323829, 0, -0.946116, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="1"]
transform = Transform3D(-0.78428, 0, 0.620407, 0, 1, 0, -0.620407, 0, -0.78428, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_p22yf")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="2"]
libraries = {
"": SubResource("AnimationLibrary_llu3u")
}

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
libraries = {
"": SubResource("AnimationLibrary_llu3u")
}
tree_root = SubResource("AnimationNodeStateMachine_w3m82")
anim_player = NodePath("../AnimationPlayer")

[node name="aura" parent="." index="4" instance=ExtResource("3_tvdd4")]
transform = Transform3D(-0.2155, 0, -0.976504, 0, 1, 0, 0.976504, 0, -0.2155, 0, 0, 0)

[node name="stars" parent="." index="5" instance=ExtResource("4_1clpe")]
transform = Transform3D(-0.2155, 0, -0.976504, 0, 1, 0, 0.976504, 0, -0.2155, 0, 0, 0)
